(this.$WP=this.$WP||[]).push(["N4pTU2",(e,t)=>{"use strict";var a,r,o,i,n,s,l,d,p,u,c,v,h,g,m,f,w,y,b,P,k,C,R,I,N,$,S,T,M,x,L,O,E,B,j,H;function U(e){var t,a=t=>n(b,{children:({route:a,navigate:r,previousRoute:o,popping:i})=>n(e,{popping:i,route:a,previousRoute:o,navigate:r,props:t})});return a.displayName=`withRouteContext(${t=e,t.displayName||t.name||"UnnamedComponent"})`,a}var _=e=>(t,{tripModal:a,...r})=>{if("object"==typeof a){var{title:o,id:i,scrollToReference:n}=a;if(i){var s=`Trips/${i}`;return o&&(s+=`/${encodeURIComponent(o)}`),n&&n.type&&n.id&&(s+=`?type=${n.type}&id${n.id}`),{path:s}}}return e(t,r)},F=e=>({path:e}),W=e=>{var t={preloadForumPostIds:[],preloadLinkPostIds:[],preloadPhotoIds:[],preloadMediaBatchIds:[],preloadRepostIds:[],preloadReviewIds:[],preloadVideoIds:[]};if(!e)return t;var a=e.split("_"),r=Number(a[1]);if(!isNaN(r))switch(a[0]){case"ForumPost":t.preloadForumPostIds=[r];break;case"LinkPost":t.preloadLinkPostIds=[r];break;case"Photo":t.preloadPhotoIds=[r];break;case"Repost":t.preloadRepostIds=[r];break;case"Review":t.preloadReviewIds=[r];break;case"Video":t.preloadVideoIds=[r];break;case"MediaBatch":t.preloadMediaBatchIds=[r]}return t},V=e=>{var{modal:t,card:a}=e;return t?W(t):a?W(a):{preloadForumPostIds:[],preloadLinkPostIds:[],preloadPhotoIds:[],preloadMediaBatchIds:[],preloadRepostIds:[],preloadReviewIds:[],preloadVideoIds:[]}},A=e=>({username:e}),D=(e,t)=>({tripId:e,tripTitle:t}),G=(e,{tripId:t})=>{var a=e;return t&&(a+=`/${t}`),{path:a}},z=e=>({tripId:e}),J=/^([^-]+)-(.*)$/,Y=/\.([a-z]*[_|.])?(?:html|xml)$/,q=(e,...t)=>{var a,r,o=J.exec(e),i={};o&&(i={page:o[1]},o[2]&&(i={...(a=o[2],r=Y.exec(a),(r&&r.index?a.substring(0,r.index):a).split("-").filter((e=>null!==e&&""!==e)).map((e=>{var t,a=null,r=null;if(e.length>=3&&(e.startsWith("zf")||e.startsWith("zu")||e.startsWith("zr")||e.startsWith("zs")))a=e.substring(0,3),r=e.substring(3);else{if(a=e.substring(0,1),r=e.substring(1),(t=a)&&t===t.toUpperCase()&&t!==t.toLowerCase()||(e=>!isNaN(parseInt(e,10)))(a)||"_"===a)return null;a=(e=>{switch(e){case"g":return"geo";case"d":return"detail";default:return e}})(a)}return{key:a,value:r}})).reduce(((e,t)=>{if(t&&null!==t.key&&""!==t.key&&null!==t.value){var a={};return a[t.key]=t.value,{...a,...e}}return e}),{})),...i}));var n=t?t.filter((e=>""!==e)):void 0;return n&&n.length?{page:e,...i,nonEmptyPathParams:n}:{page:e,...i}},K=/^\/([^?]+)(?:\?(.*))?$/,Q=/Tourism-g(\d+)/g,X=({page:e,...t})=>{var{path:a,...r}=(I[e]||I.default)(e,t),o=a;r.nonEmptyPathParams&&r.nonEmptyPathParams.length&&r.nonEmptyPathParams[0].match(Q)&&(o=r.nonEmptyPathParams.shift(),r.nonEmptyPathParams.length||(r.nonEmptyPathParams=void 0));var i=Object.keys(r).filter((e=>void 0!==r[e])).reduce(((e,t)=>(e[t]=r[t],e)),{}),n=new URLSearchParams(i).toString();return`/${o}${n.length?"?":""}${n}`},Z=e=>{var t,a,[,r,o]=K.exec(e)||[null,"",""],[...i]=r.split("/"),n=e.match(Q);if("/"===e)a="Home";else if(n&&n.length>0)a=n[0].replace("Tourism","Home");else{if(!r)return null;a=i.shift()}var s=N[a];return t=s?{page:a,...s(...i)}:{...N.default(a,...i)},new URLSearchParams(o).forEach(((e,a)=>{t[a]=e})),t},ee=["Profile","Trips","Owners","BrandOwners","ManageShopping","SpecialOfferWebview","HotelsManagementCenter","HotelsManageListing","SafetyManagementCenter","FavoriteReviewManagement","OwnerVerification","SpecialOfferManagement","ViewAchAuthorization","Starter_Packages","Recovery_Packages"],te=(e,t=ee)=>t.includes(e),ae=(e,t=ee)=>te(e.page,t),re=(e,t,a=ee)=>e===t||te(e,a)&&te(t,a),oe=(e,t,a=ee)=>re(e.page,t.page,a),ie=({href:e,to:t,target:a,onClick:r,children:o,className:i,activeClassName:l,title:d,label:p,dataAttributes:u,stripNoreferrerNoopener:c,dir:v,rel:h})=>{var g=t&&void 0===e?X(t):e,m=h;return null==m&&(m="_blank"!==a||c?null:"noopener noreferrer"),n(b,{children:({navigate:e,route:l})=>n("a",{...s(u),rel:m,href:g,target:a,onClick:a=>{r&&r(a),0!==a.button||a.isDefaultPrevented()||e&&t&&$(l,t)&&e(t)&&a.preventDefault()},className:i,title:d,"aria-label":p,dir:v,children:o})})},ne=(e,t)=>Object.keys(t).reduce(((a,r)=>{return a&&!!((o=t[r])===(i=e[r])||"function"==typeof o&&o(i));var o,i}),!0),se=e=>{var{route:t,navigate:r}=a.useContext(P),o={...t,...e},i=ne(t,Object.entries(e).reduce(((e,[t,a])=>Object.assign(e,{[t]:e=>l(a,e)})),{})),n={...t};Object.keys(e).forEach((e=>{delete n[e]}));var s=a.useCallback((()=>{r(o)}),[r,o]),d=a.useCallback((()=>{var e,t;null!=(null==(e=window)||null==(t=e.history)?void 0:t.state)?window.history.back():r(n)}),[r,n]);return{matches:i,to:o,without:n,open:s,close:d}},le=({mobileTarget:e,viewportCategory:t,...a})=>{var r="MOBILE"===t&&e?e:a.target;return n(S,{...a,target:r})},de=({route:e,props:{children:t,...a}})=>ne(e,a)&&t||null,pe=(e,t)=>Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce(((a,r)=>a&&e[r]===t[r]),!0),ue=({route:e,props:{children:t,...a}})=>pe(e,a)&&t||null,ce=["Trips","TripsWebview","Owners","BrandOwners","HotelsManagementCenter","DestinationArticle","HotelsManageListing","SafetyManagementCenter"],ve={},he=(e,t)=>!!(t.exact&&pe(e,t.exact)||t.match&&ne(e,t.match)),ge=(e,t,r)=>d((e=>({currentRoute:e.route})))(((e,t,r)=>{var o=new Map,i=e=>{var t,a;return o.has(e)||o.set(e,(t=e.component,{loadable:a=new v(t),component:()=>n(h,{component:a})})),o.get(e)},s=({currentRoute:t})=>{var o=e.filter((e=>he(t,e))).map(((e,t)=>a.createElement(i(e).component,{key:t})));return n(b,{children:e=>n(y,{value:{...e,navigate:(t,a={})=>e.navigate(t,{...a})},children:a.createElement(r||a.Fragment,null,o)})})};return s.stage=(...t)=>{e.filter((e=>he(u().getState().route,e))).forEach((e=>{var a=i(e);a.loadable.isLoaded()&&("function"==typeof a.loadable.stage&&a.loadable.stage(...t),"function"==typeof a.loadable.get().stage&&a.loadable.get().stage(...t))}))},s})(e,0,r)),me=()=>{var{route:{detail:e}}=a.useContext(P);try{return parseInt(e,10)}catch(e){return console.error("Could not parse detail parameter as a number",e),null}},fe=(e=(()=>!0))=>{var{addBeforeNavigationCallback:t,removeBeforeNavigationCallback:a}=r(P),[n,s]=o();if(i((()=>{var r=t=>!!e(t.to)&&(s(t),!0);return t(r),()=>a(r)}),[e,t,a]),null!=n){var{to:l,continueNavigation:d}=n;return[l,()=>{s(null),d()},()=>{s(null)}]}return[null,()=>{},()=>{}]};return e("withRouteContext",U),[()=>{w=a.createContext({route:{},previousRoute:{},navigate:()=>{},addBeforeNavigationCallback:()=>{},removeBeforeNavigationCallback:()=>{},popping:!1}),({Provider:y,Consumer:b}=w),P=w,k=_(((e,{modal:t,card:a,username:r,fid:o,geo:i,allowedTypes:n,...s})=>{var l="",d=["LinkPost","ForumPost","Repost","Review","Photo","Video"],p=s,u=o;if(r&&"string"==typeof r){if(t&&"string"==typeof t){var c=t.split("_");l=d.includes(c[0])?`Profile/${r}/${c.join("/")}`:`Profile/${r}/${t}`,u=void 0}else if(!("tab"in s)&&a&&"string"==typeof a){var v=a.split("_");d.includes(v[0])?l+=`Profile/${r}/${v.join("/")}`:l+=`Profile/${r}/${a}`}}else i&&(l+=`Home-g${i}`);return u&&(p.fid=o),n&&(p.allowedTypes=n),{path:l,...p}})),C=_(((e,{modal:t,card:a,username:r,feedIdToRestore:o,fid:i,...n})=>{var s=e;r&&(s+=`/${r}`);var l=["LinkPost","ForumPost","Repost","Review","Photo","Video","MediaBatch"],d=n,p=i;if(t&&"string"==typeof t){var u=t.split("_");l.includes(u[0])?s+=`/${u.join("/")}`:s+=`/${t}`,p=void 0}else if(!("tab"in n)&&a&&"string"==typeof a){var c=a.split("_");l.includes(c[0])?s+=`/${c.join("/")}`:s+=`/${a}`}return p&&(d.fid=i),{path:s,...d}})),R=_(((e,{tripId:t,tripTitle:a,...r})=>{var o=e;return t&&(o+=`/${t}`,a&&(o+=`/${encodeURIComponent(a)}`)),{path:o,...r}})),I={default:_(((e,t)=>({path:e,...t}))),Home:k,Profile:C,Trips:R,Saves:G},N={default:q,Home:F,Profile:A,Trips:D,Saves:z},$=oe,ie.defaultProps={target:void 0,onClick:void 0,children:null,className:"",activeClassName:"",to:void 0,href:void 0,title:void 0,dataAttributes:void 0,stripNoreferrerNoopener:!1,dir:""},S=ie,T=se,M=d((e=>({viewportCategory:e.meta.device.viewportCategory})))(le),x=U(de),L=U(ue),O=new Set,e("Router$1",g=class extends a.Component{constructor(...e){super(...e),this.state={previous:null}}record(e,t,a=!1){c({module:e.page,action:"SPA_NAVIGATION"}),"object"==typeof window&&window.history&&(a?this.state.previous?window.history.back():t?(window.history.replaceState(e,"",X(e)),this.setState({previous:{...t}})):(window.history.replaceState(e,"",X(e)),this.setState({previous:{...e}})):(window.history.pushState(e,"",X(e)),this.setState({previous:{...t}})))}render(){var{route:e,navigate:t,children:a}=this.props;return n(y,{value:{popping:!1,previousRoute:null,route:e,addBeforeNavigationCallback:e=>O.add(e),removeBeforeNavigationCallback:e=>O.delete(e),navigate:(a,r)=>{var o,{noHistory:i,reset:n}=r||{},s={...e},l=!1,d=()=>{var r,o=X(a);i||$(s,a)||(window.location=o,r=!0),l&&window.history.back(),i||(ce.includes(a.page)&&ce.includes(e.page)&&a!==e&&window.scrollTo(0,0),r||this.record(a,s,n)),t(a,o)};return o={to:a,continueNavigation:d},[...O].some((e=>e(o)))?i&&(window.history.pushState(s,"",X(s)),l=!0):d(),!0}},children:a})}}),E=d(((e,t)=>({...t,route:e.route||{}})),{navigate:p.route.navigate})(g),e("History$1",m=class extends a.Component{constructor(...e){super(...e),this.popState=e=>{var t,{state:a}=e;null!=(t=a)&&t.params||(a&&a.page||(a=Z(window.location.pathname+window.location.search)),a&&this.props.navigate(a,{noHistory:!0})||window.location.reload())}}componentDidMount(){window.addEventListener("popstate",this.popState);var e=window.location.hash,{lithiumRoute:t}=this.props;if(e&&!t.fragment){var a={...t,fragment:e.substring(1)};this.props.navigateLithium(a)}}componentWillUnmount(){window.removeEventListener("popstate",this.popState)}render(){return null}}),B=d(((e,t)=>{var a;return{...t,lithiumRoute:(null==(a=e.lithiumRoute)?void 0:a[0])||{}}}),{navigateLithium:p.lithiumRoute.navigate})(m),j=U(B),H={title:void 0,metaTags:[],canonicalUrl:void 0,openGraphInfo:void 0},e("HeadProperties$1",f=class extends a.Component{constructor(...e){super(...e),this.state={isMounted:!1}}static getCurrent(){return H}componentDidMount(){this.setState({isMounted:!0})}render(){if(this.state.isMounted)this.props.title&&(document.title=this.props.title);else{if(H.title=this.props.title||H.title,this.props.metaTags){var e=H.metaTags||[];this.props.metaTags.forEach((t=>{var a=JSON.stringify(t);a in ve||(ve[a]=!0,e.push(t),H.metaTags=e)}))}H.canonicalUrl=this.props.canonicalUrl||H.canonicalUrl,H.openGraphInfo=this.props.openGraphInfo||H.openGraphInfo}return null}}),f.defaultProps={title:void 0,metaTags:void 0,canonicalUrl:void 0,openGraphInfo:void 0},e({Exact:L,HeadProperties:f,History:j,Link:S,Match:x,ResponsiveTargetLink:M,RouteConsumer:b,RouteContext:P,Router:E,StaticLoadableRoutes:ge,applyPredicates:he,buildUrl:X,canNavigate:$,canNavigateBetweenPages:re,exact:pe,getPreloadIds:V,isRoutable:ae,match:ne,parseUrl:Z,useBeforeNavigation:fe,useLocationDetail:me,useRouteState:T,withRouteContext:U})},[e=>(a=e,r=e.useContext,o=e.useState,i=e.useEffect),e=>n=e.jsx,e=>s=e.default,e=>l=e.default,e=>d=e.connect,e=>(p=e.actions,u=e.getStore),e=>c=e.default,e=>(v=e.Loadable,h=e.Load)]]},["cDcdfi","F5FCuN","BIMMTw","YwNsO_","h74DsO","aunxON","Jk5sjx","asW43G"]]);
